---
kip: 157
title: Deriving Non-fungible tokens (NFTs)
author: Duke Nguyen <duke@darenft.com>, Thomas Nguyen <thomas.nguyen@darenft.com>, Kelvin Pham <kelvin.pham@darenft.com>, Tony Vu <tony.vu@darenft.com>
discussions-to: https://github.com/klaytn/kips/issues/157
status: Draft
type: Standards Track
category: KCT
created: 2024-01-16
requires: 17, 155
---

## Simple Summary
A standard interface for deriving Non-fungible tokens (NFTs).

## Abstract
This standard aims to resolve the challenges of deriving NFT. Creating derivative NFTs introduces several technical challenges that require careful consideration to ensure the seamless and secure operation of the tokenization process. One primary technical concern revolves around the smart contract architecture and its ability to accurately represent and manage the derived NFTs.

Firstly, the design of the smart contract must allow for the proper creation and tracking of derivative NFTs while maintaining a clear linkage to their underlying assets. Establishing an efficient and secure method for generating derivative tokens, whether through a minting mechanism or another process, demands a robust smart contract structure to handle the complexities of ownership, transferability, and metadata inheritance.

Another technical issue arises in the context of metadata management. Derivative NFTs often involve the amalgamation or modification of metadata from their source assets. Ensuring a smooth transition of metadata from the underlying NFTs to the derivatives requires careful handling to maintain coherence, consistency, and accurate representation of the combined attributes. Developers must implement strategies that facilitate the seamless integration of metadata to preserve the intended value and context of the original assets.

Scalability is a critical concern when dealing with derivative NFTs, particularly if the creation and utilization of these tokens gain widespread adoption. An increase in demand for derivative NFTs may exert pressure on the underlying blockchain network, leading to potential congestion and performance issues. Strategies for optimizing gas efficiency, transaction processing, and overall scalability need to be implemented to accommodate a growing user base and ensure a smooth user experience.

Interoperability represents another technical challenge, especially when dealing with derivative NFTs across various platforms and marketplaces. Developing standards or protocols that allow for consistent handling and recognition of derivative tokens ensures that they can be seamlessly integrated into diverse ecosystems, fostering a more interconnected and versatile NFT landscape.

## Motivation
Currently, there is no standardized way to derive NFT.

## Specification
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in [RFC 2119](https://www.ietf.org/rfc/rfc2119.txt).

### Interface
```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.9;

interface IDerivable {
  struct DerivedToken {
    address collection;
    uint256 tokenId;
    uint256 startTime;
    uint256 endTime;
  }

  // events
  event Derive(address underlyingCollection, uint256 underlyingTokenId, address derivedCollection, uint256 derivedTokenId, uint256 startTime, uint256 endTime);
  event Reclaim(address underlyingCollection, uint256 underlyingTokenId, address derivedCollection, uint256 derivedTokenId);

  event WriteDerived(address requester, address underlyingCollection, uint256 underlyingTokenId, address derivedCollection, uint256 derivedTokenId, bytes32 key, bytes value);

  // commands
  function derive(address underlyingCollection, uint256 underlyingTokenId, uint256 startTime, uint256 endTime, uint256 royaltyRate) external returns (bool);
  function reclaim(address underlyingCollection, uint256 underlyingTokenId) external returns (bool);

  // queries
  function derivedOf(address underlyingCollection, uint256 underlyingTokenId) external view returns (DerivedToken memory);
  function underlyingOf(uint256 derivedTokenId) external view returns (address, uint256);
  
  function isUsable(address collection, uint256 tokenId) external view returns (bool);
  function isDerivable(address collection, uint256 tokenId) external view returns (bool);
  function isReclaimable(address requester, address collection, uint256 tokenId) external view returns (bool);
}
```

## Rationale


**Time-sensitive**

The derived NFT is usable in a predefined time range only. The utilization of derived NFTs within a predefined time range introduces a strategic dimension to the lifecycle of these digital assets, emphasizing the dynamic nature of their functionality. The decision to limit the usability of derived NFTs over a specific timeframe is rooted in several key considerations that enhance the overall experience for collectors, creators, and the broader NFT community.

One primary aspect is the promotion of a sense of exclusivity and urgency. By confining the usability of derived NFTs to a predefined time window, creators can instill a heightened sense of rarity and desirability. This approach aligns with the principles of limited editions, fostering a perception of scarcity that often resonates strongly with collectors. The time-limited nature encourages users to engage promptly, creating a dynamic marketplace where opportunities for acquisition are temporally constrained, enhancing the overall excitement surrounding these digital assets.

Furthermore, temporal constraints offer creators the opportunity to align derived NFTs with specific events, seasons, or thematic campaigns. For example, a series of NFTs representing holiday-themed characters might be introduced with usability limited to the corresponding festive season. This temporal relevance not only enhances the thematic appeal of the NFTs but also creates a unique and memorable experience for collectors.

The concept of temporal exclusivity also aligns with the evolving nature of digital content. As creative trends and technological advancements continue to shape the digital landscape, limiting the usability of derived NFTs over time allows creators to adapt and introduce new features, narratives, or enhancements. This adaptability ensures that derived NFTs remain relevant and appealing, fostering a continuous evolution of the digital assets.

Moreover, the time-sensitive nature of derived NFTs introduces opportunities for interactive and gamified experiences. Developers can design challenges, quests, or competitions tied to the temporal availability of these assets, creating engaging scenarios that encourage user participation and strategic decision-making.

In summary, limiting the usability of derived NFTs within a predefined time range enriches the NFT ecosystem by promoting exclusivity, aligning with thematic relevance, accommodating digital evolution, and fostering interactive experiences. This approach transforms derived NFTs into dynamic and engaging components of a vibrant and ever-evolving digital collectibles landscape.


**Environment bound**

The derived NFT is usable in the specified environment only. Confining the usability of derived NFTs to a specified environment introduces a strategic layer to the tokenization process, emphasizing the contextual relevance and targeted functionality of these digital assets. This deliberate decision is driven by the desire to create tailored and immersive experiences, ensuring that the derived NFTs are utilized within a designated framework that enhances their thematic coherence and user engagement.

One key rationale behind restricting the usability to a specified environment is the desire to maintain a thematic or narrative consistency. For instance, if a series of derived NFTs represents characters within a gaming universe, restricting their usability to the designated gaming environment ensures that these digital assets contribute seamlessly to the overarching storyline or gaming experience. This approach fosters a more immersive and cohesive connection between the NFTs and their intended context, enriching the overall narrative for collectors and users.

Moreover, the limitation to a specified environment can serve to create exclusive interactions or functionalities. For example, if the derived NFTs are designed for use within a particular virtual reality (VR) platform, their unique features and interactions may be optimized for the immersive VR experience. This exclusivity adds value to the NFTs, offering users a distinctive and enhanced engagement within the designated environment.

The specified environment constraint also plays a role in ensuring compatibility and interoperability. By tailoring the usability of derived NFTs to a specific platform or application, developers can streamline integration processes, optimize user experiences, and maintain a standardized approach to interaction. This targeted compatibility fosters a more seamless and user-friendly environment for collectors and enthusiasts.

Furthermore, the concept of environment-specific usability aligns with the evolving nature of digital ecosystems. As various platforms and technologies continue to advance, restricting the usability of derived NFTs to specified environments allows for adaptation and optimization, ensuring that these digital assets remain relevant and effective within the rapidly changing landscape of digital experiences.

**Underlying / derived token parity**

At any given moment, one underlying NFT can mint only one derived NFT.

**Reclaim**

Upon expiration of derived NFT, the owner of underlying is able to reclaim the derived one to mint the next derived.

## Backwards Compatibility
This standard is fully compatible with KIP-17 (ERC-721) tokens.

## Test Cases
[Github repo](https://github.com/darenft-labs/darenft-protocol-contracts)

## Implementations
[Github repo](https://github.com/darenft-labs/darenft-protocol-contracts)

## Copyright
Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).