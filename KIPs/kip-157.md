---
kip: 157
title: Deriving Non-fungible tokens (NFTs)
author: Duke Nguyen <duke@darenft.com>, Thomas Nguyen <thomas.nguyen@darenft.com>, Kelvin Pham <kelvin.pham@darenft.com>, Tony Vu <tony.vu@darenft.com>
discussions-to: https://github.com/klaytn/kips/issues/157
status: Draft
type: Standards Track
category: KCT
created: 2024-01-16
requires: 17, 155
---

## Simple Summary
A standard interface for deriving Non-fungible tokens (NFTs).

## Abstract

## Motivation

## Specification
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in [RFC 2119](https://www.ietf.org/rfc/rfc2119.txt).

### Interface
```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.9;

interface IDerivable {
  struct DerivedToken {
    address collection;
    uint256 tokenId;
    uint256 startTime;
    uint256 endTime;
  }

  // events
  event Derive(address underlyingCollection, uint256 underlyingTokenId, address derivedCollection, uint256 derivedTokenId, uint256 startTime, uint256 endTime);
  event Reclaim(address underlyingCollection, uint256 underlyingTokenId, address derivedCollection, uint256 derivedTokenId);

  event WriteDerived(address requester, address underlyingCollection, uint256 underlyingTokenId, address derivedCollection, uint256 derivedTokenId, bytes32 key, bytes value);

  // commands
  function derive(address underlyingCollection, uint256 underlyingTokenId, uint256 startTime, uint256 endTime, uint256 royaltyRate) external returns (bool);
  function reclaim(address underlyingCollection, uint256 underlyingTokenId) external returns (bool);

  // queries
  function derivedOf(address underlyingCollection, uint256 underlyingTokenId) external view returns (DerivedToken memory);
  function underlyingOf(uint256 derivedTokenId) external view returns (address, uint256);
  
  function isUsable(address collection, uint256 tokenId) external view returns (bool);
  function isDerivable(address collection, uint256 tokenId) external view returns (bool);
  function isReclaimable(address requester, address collection, uint256 tokenId) external view returns (bool);
}
```

## Rationale

## Backwards Compatibility
This standard is fully compatible with KIP-17 (ERC-721) tokens.

## Test Cases
[Github repo](https://github.com/darenft-labs/darenft-protocol-contracts)

## Implementations
[Github repo](https://github.com/darenft-labs/darenft-protocol-contracts)

## Copyright
Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).